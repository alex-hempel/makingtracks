<!DOCTYPE html><html lang="en-au"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>A late 2021 Retrospective - Making Tracks</title><meta name="description" content="2021 is behind us by over a month already It's hard to believe how fast such a busy and eventful year can end."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://makingtracks.ah-web.org/a-late-2021-retrospective/"><link rel="alternate" type="application/atom+xml" href="https://makingtracks.ah-web.org/feed.xml"><link rel="alternate" type="application/json" href="https://makingtracks.ah-web.org/feed.json"><meta property="og:title" content="A late 2021 Retrospective"><meta property="og:image" content="https://makingtracks.ah-web.org/media/posts/40/img_4505-scaled.jpg"><meta property="og:image:width" content="2560"><meta property="og:image:height" content="1440"><meta property="og:site_name" content="Making Tracks"><meta property="og:description" content="2021 is behind us by over a month already It's hard to believe how fast such a busy and eventful year can end."><meta property="og:url" content="https://makingtracks.ah-web.org//a-late-2021-retrospective/"><meta property="og:type" content="article"><link rel="preload" href="https://makingtracks.ah-web.org/assets/dynamic/fonts/cabin/cabin.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://makingtracks.ah-web.org/assets/dynamic/fonts/cabin/cabin-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/style.css?v=794aad8980e1685dc43a66fdf0d1c365"><noscript><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/noscript.css?v=efa867a99f5064d6729e4dc2008ad50b"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://makingtracks.ah-web.org/a-late-2021-retrospective/"},"headline":"A late 2021 Retrospective","datePublished":"2022-02-03T10:10+10:00","dateModified":"2025-01-22T20:37+10:00","image":{"@type":"ImageObject","url":"https://makingtracks.ah-web.org/media/posts/40/img_4505-scaled.jpg","height":1440,"width":2560},"description":"2021 is behind us by over a month already It's hard to believe how fast such a busy and eventful year can end.","author":{"@type":"Person","name":"Alex","url":"https://makingtracks.ah-web.org/authors/alex/"},"publisher":{"@type":"Organization","name":"Alex"}}</script><style>#wrapper > .bg {
               background-image: url(https://makingtracks.ah-web.org/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://makingtracks.ah-web.org/media/website/cropped-train-1148965_1920-6.png);
           }</style><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><link rel="stylesheet" href="https://makingtracks.ah-web.org/media/plugins/simpleLightboxGallery/venobox.min.css"></head><body class="is-preload post-template"><div id="wrapper"><header id="header"><a class="logo" href="https://makingtracks.ah-web.org/">Making Tracks</a></header><nav id="nav"><ul class="links"><li><a href="https://makingtracks.ah-web.org/" target="_self">Home</a></li><li><a href="https://makingtracks.ah-web.org/about/" target="_self">About</a></li><li><a href="https://mastodon.social/@rainynight65" target="_blank">Mastodon</a></li><li><a href="https://makertube.net/c/makingtracks/videos" target="_blank">Makertube</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2022-02-03T10:10" class="date">3 February 2022</time><h1>A late 2021 Retrospective</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://makingtracks.ah-web.org/media/posts/40/img_4505-scaled.jpg" srcset="https://makingtracks.ah-web.org/media/posts/40/responsive/img_4505-scaled-xs.jpg 300w, https://makingtracks.ah-web.org/media/posts/40/responsive/img_4505-scaled-sm.jpg 480w, https://makingtracks.ah-web.org/media/posts/40/responsive/img_4505-scaled-md.jpg 768w, https://makingtracks.ah-web.org/media/posts/40/responsive/img_4505-scaled-lg.jpg 1024w, https://makingtracks.ah-web.org/media/posts/40/responsive/img_4505-scaled-xl.jpg 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="1440" width="2560" alt=""></figure><div class="post__inner post__entry"><p></p><p>2021 is behind us by over a month already It's hard to believe how fast such a busy and eventful year can end.</p><p></p><p></p><p>The bad news is that not a whole lot has happened in the train room this past year. For financial reason, the construction of the new layout was deferred early in the year. In the meantime, the <a href="https://makingtracks.ah-web.org/interim-shenanigans/">previous layout was reassembled</a> so we could at least run trains. The train room was painted, and my wife created a scenic background running around the wall, which can be seen in the photos below. We will likely add some detail to that as we determine where certain parts of the landscape are going, but I think it's come out great.</p><p></p><p></p><p>Towards the end of the year, we finally started building the bench work for the new layout. This meant that once again, the old layout was dismantled, this time irreversibly, because its parts were to be integrated into the new layout. Construction was done the same way as on the old layout - MDF tops with dressed pine frames and pine studs for legs. We built individual pieces which were then joined into the whole thing - starting from the far left corner, this required some intense tetris-like shifting of pieces at times. The progress is shown in the below photos.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4171.jpg" data-size="4032x3024" data-gall="galleryGroup-1"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4171-thumbnail.jpg" alt="" width="720" height="540"></a></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4199.jpg" data-size="4032x3024" data-gall="galleryGroup-1"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4199-thumbnail.jpg" alt="" width="720" height="540"></a></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4235.jpg" data-size="4032x2268" data-gall="galleryGroup-1"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4235-thumbnail.jpg" alt="" width="720" height="405"></a></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4241.jpg" data-size="4032x2268" data-gall="galleryGroup-1"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4241-thumbnail.jpg" alt="" width="720" height="405"></a></figure></div></div><p></p><p></p><p></p><p></p><p>Track laying will start soon - watch this space.</p><p></p><p></p><p>A new train project has finally come to fruition, after several months and a few mishaps. The plan was for an Era IV West German push-pull commuter train, using passenger cars known as n-coaches, colloquially called '<a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Silberling" data-type="URL" data-id="https://en.wikipedia.org/wiki/Silberling" target="_blank">Silberling</a>' for their originally unpainted, brushed stainless steel body. I wanted at least two cars in the train, one of them was to be a cab control car for the push-pull operation.</p><p></p><p></p><p>Acquiring the coaches was the easy bit, but not without its pitfalls. I quickly found three suitable cars for acceptable prices, the second hand market for cars in 1:100 length scale is quite well stocked. I prefer the shorter cars, they're usually cheap and still look good enough. Sure, current models have more detail, but have you seen the prices of those things?</p><p></p><p></p><p>The three cars arrived, and I fairly quickly noticed that something was off. Two cars were as I expected, a cab car and a mixed class coach, with blue frames and blue lettering, but the third car, a second class coach, had a black frame and black lettering. The roof shape was also different, as was the road number. After a bit of research, it turned out that I had acquired a Roco 4265 instead of a 4265S, the latter being the desired model. I did not know that the S in the item number would make such a difference. But I also had no-one but myself to blame. It took a bit longer for me to find the correct car in acceptable condition, but I got there.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_3755.jpg" data-size="4032x3024" data-gall="galleryGroup-2" data-title="The original set of three, the with the odd one out at the bottom"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_3755-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>The original set of three, the with the odd one out at the bottom</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_3990.jpg" data-size="4032x2268" data-gall="galleryGroup-2" data-title="Compare the Roco 4265, n-coach type Bnrb725…"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_3990-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>Compare the Roco 4265, n-coach type Bnrb725…</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4499.jpg" data-size="4032x2268" data-gall="galleryGroup-2" data-title="… and the Roco 4265S (new item number 44402), type Bnb719"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4499-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>… and the Roco 4265S (new item number 44402), type Bnb719</figcaption></figure></div></div><p></p><p></p><p></p><p></p><p>The cab car is a Roco 44220A, it came as new in its original box with working lights and complete detailing parts. I would have liked to get my hands on a <a href="https://mobadaten.info/wiki/FLM_5140_DB_IV_BDnrzf_740_Nahverkehrs-Steuerwagen_2._Klasse_mit_Gep%C3%A4ckabteil" target="_blank" rel="noreferrer noopener">Fleischmann 5140</a> with the blue/beige scheme on the cab, but those are <em>rare</em>. The photos below show the full setup.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4506.jpg" data-size="4032x2268" data-gall="galleryGroup-3" data-title="Roco 44220A (new item number 44400), cab car known as ‘Karlsruher Kopf’"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4506-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>Roco 44220A (new item number 44400), cab car known as ‘Karlsruher Kopf’</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4508.jpg" data-size="4032x2268" data-gall="galleryGroup-3" data-title="Roco 4265S (new item number 44402), 2nd Class coach"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4508-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>Roco 4265S (new item number 44402), 2nd Class coach</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4507.jpg" data-size="4032x2268" data-gall="galleryGroup-3" data-title="Roco 4266S (new item number 44403), 1st/2nd Class coach"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4507-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>Roco 4266S (new item number 44403), 1st/2nd Class coach</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4505.jpg" data-size="4032x2268" data-gall="galleryGroup-3" data-title="The full consist, close-coupled"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4505-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>The full consist, close-coupled</figcaption></figure></div></div><p></p><p></p><figure class="wp-block-gallery has-nested-images columns-default is-cropped"></figure><p></p><p></p><p>The loco was another adventure. I had my heart set on the <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/DB_Class_V_200" target="_blank">BR 220</a> in its rarely used <a rel="noreferrer noopener" href="https://bundesbahnzeit.de/dso/Daenemark81/b37-220_060.jpg?=1314374879" target="_blank">blue/beige livery</a> as opposed to the <a href="http://www.reisezugwagen.eu/wp-content/uploads/220-032-7-Radolfzell-1.10.72.jpg">original red/grey colour scheme</a>. It had to be a 220 instead of its evolution, the BR 221, because the later prototype did not have push-pull control, and there are times when I like to be a bit prototypical with my trains. What I didn't realise is that not a lot of H0 models of a blue/beige BR 220 were made. The most common one is a Roco model from the 1990s, but those are not yet DCC-ready and I was not up for the somewhat complex modifications needed to make it so. ESU only recently released a second run of their BR 220, a beautiful looking model with a lot of detail, with sound and smoke - and way outside of my budget.</p><p></p><p></p><p>As a second choice, I would have been happy enough with a <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/DB_Class_V_100" target="_blank">BR 212</a> in the blue/beige scheme, but those are not exactly easier to find. No current model was available at the time. Eventually I managed to find an as-new unit of a Piko BR 220 originally made in 2014, which ticked all the boxes - my preferred variant, with a modern digital interface.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4509.jpg" data-size="4032x2268" data-gall="galleryGroup-4" data-title="The BR 220 in blue/beige…"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4509-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>The BR 220 in blue/beige…</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4513.jpg" data-size="4032x2268" data-gall="galleryGroup-4" data-title="… and the full train."><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4513-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>… and the full train.</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4515.jpg" data-size="4032x2268" data-gall="galleryGroup-4" data-title="Front…"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4515-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>Front…</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4514.jpg" data-size="4032x2268" data-gall="galleryGroup-4" data-title="and back"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/40/gallery/img_4514-thumbnail.jpg" alt="" width="720" height="405"></a><figcaption>and back</figcaption></figure></div></div><p></p><p></p><p></p><p></p><p>Lastly, the loco and the replacement coach should have been here before Christmas, but in spite of a significant postage charge which should have guaranteed priority shipping, the parcel from Germany to Australia took two months to arrive. The more annoying bit was that for most of that time, there was no visible movement on the parcel tracking. Oh well, the things we put up with in times of Covid...</p><p></p><p></p><p></p></div><footer class="post__inner post__footer"><div class="post__share-tag-container"><div class="post__tag"><h3>Tagged in:</h3><ul><li><a href="https://makingtracks.ah-web.org/tags/building/">Building</a></li><li><a href="https://makingtracks.ah-web.org/tags/construction/">Construction</a></li><li><a href="https://makingtracks.ah-web.org/tags/locos/">Locos</a></li></ul></div><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"></div></div></div><div class="post__bio"><img src="https://www.gravatar.com/avatar/ee5c2941d2997b864e9173c270513a0c?s&#x3D;240" loading="lazy" height="240" width="240" alt="Alex"><div><h3><a href="https://makingtracks.ah-web.org/authors/alex/" class="invert" rel="author">Alex</a></h3></div></div></footer></article></main><footer id="copyright"><ul><li>© Alex Hempel 2018-2025. All Rights Reserved</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by Publii</li></ul></footer></div><script src="https://makingtracks.ah-web.org/assets/js/jquery.min.js?v=c9771cc3e90e18f5336eedbd0fffb2cf"></script><script src="https://makingtracks.ah-web.org/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://makingtracks.ah-web.org/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://makingtracks.ah-web.org/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://makingtracks.ah-web.org/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://makingtracks.ah-web.org/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://makingtracks.ah-web.org/assets/js/main.min.js?v=56233c354bd814758be8bff42f7e13a5"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script defer="defer" src="https://makingtracks.ah-web.org/media/plugins/simpleLightboxGallery/venobox.min.js"></script><script type="text/javascript">document.addEventListener("DOMContentLoaded", () => {
						 try {
							  if (typeof VenoBox !== 'undefined') {
									new VenoBox({
										 selector: '.gallery__item a',
titleattr: 'data-title',
bgcolor: 'rgba(38, 40, 44, 1)',
fitView: true,
infinigall: true,
maxWidth: '100%',
navigation: true,
navKeyboard: true,
navTouch: true,
navSpeed: 300,
numeration: true,
overlayClose: true,
overlayColor: 'rgba(0,0,0,0.8)',
share: false,
shareStyle: 'pill',
spinColor: '#d2d2d2',
spinner: 'flow',
titlePosition: 'top',
titleStyle: 'transparent',
toolsBackground: '#1C1C1C',
toolsColor: '#d2d2d2',
initialScale: 0.9,
transitionSpeed: 200
									});
							  } else {
									console.error("VenoBox script not loaded.");
							  }
						 } catch (error) {
							  console.error("Failed to initialize VenoBox:", error);
						 }
					});</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="#not-specified">More details...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="#not-specified">More details...</a></div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch"><input type="checkbox" data-group-name="analytics" id="analytics-cookies"> <label for="analytics-cookies">Required</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>