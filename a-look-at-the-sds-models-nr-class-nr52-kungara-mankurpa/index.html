<!DOCTYPE html><html lang="en-au"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>A look at the SDS Models NR Class NR52 &#x27;Kungara Mankurpa&#x27; - Making Tracks</title><meta name="description" content="I don't usually write at length about new models that I acquire. However, every now and then one comes in that just wants to be talked about. And when I got my hands on this beautifully made and exquisitely printed NR Class from Australian maker SDS Models, I couldn't help but share a more in-depth look."><meta name="generator" content="Publii Open-Source CMS for Static Site"><script async defer="defer" type="gdpr-blocker/analytics" src="https://cloud.umami.is/script.js" data-website-id="a427e2da-da6b-41b8-bbf8-baea5d55d40f" data-auto-track="true" data-do-not-track="true" data-cache="false"></script><link rel="canonical" href="https://makingtracks.ah-web.org/a-look-at-the-sds-models-nr-class-nr52-kungara-mankurpa/"><link rel="alternate" type="application/atom+xml" href="https://makingtracks.ah-web.org/feed.xml"><link rel="alternate" type="application/json" href="https://makingtracks.ah-web.org/feed.json"><meta property="og:title" content="A look at the SDS Models NR Class NR52 'Kungara Mankurpa'"><meta property="og:image" content="https://makingtracks.ah-web.org/media/posts/36/img_3669-scaled.jpg"><meta property="og:image:width" content="2560"><meta property="og:image:height" content="1440"><meta property="og:site_name" content="Making Tracks"><meta property="og:description" content="I don't usually write at length about new models that I acquire. However, every now and then one comes in that just wants to be talked about. And when I got my hands on this beautifully made and exquisitely printed NR Class from Australian maker SDS Models, I couldn't help but share a more in-depth look."><meta property="og:url" content="https://makingtracks.ah-web.org//a-look-at-the-sds-models-nr-class-nr52-kungara-mankurpa/"><meta property="og:type" content="article"><link rel="preload" href="https://makingtracks.ah-web.org/assets/dynamic/fonts/cabin/cabin.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://makingtracks.ah-web.org/assets/dynamic/fonts/cabin/cabin-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/style.css?v=a8ca1367dd9139daadb52caf7a2b7a85"><noscript><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/noscript.css?v=efa867a99f5064d6729e4dc2008ad50b"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://makingtracks.ah-web.org/a-look-at-the-sds-models-nr-class-nr52-kungara-mankurpa/"},"headline":"A look at the SDS Models NR Class NR52 'Kungara Mankurpa'","datePublished":"2021-07-02T11:46+10:00","dateModified":"2025-01-22T21:36+10:00","image":{"@type":"ImageObject","url":"https://makingtracks.ah-web.org/media/posts/36/img_3669-scaled.jpg","height":1440,"width":2560},"description":"I don't usually write at length about new models that I acquire. However, every now and then one comes in that just wants to be talked about. And when I got my hands on this beautifully made and exquisitely printed NR Class from Australian maker SDS Models, I couldn't help but share a more in-depth look.","author":{"@type":"Person","name":"Alex","url":"https://makingtracks.ah-web.org/authors/alex/"},"publisher":{"@type":"Organization","name":"Alex"}}</script><style>#wrapper > .bg {
               background-image: url(https://makingtracks.ah-web.org/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://makingtracks.ah-web.org/media/website/cropped-train-1148965_1920-6.png);
           }</style><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><link rel="stylesheet" href="https://makingtracks.ah-web.org/media/plugins/simpleLightboxGallery/venobox.min.css"></head><body class="is-preload post-template"><div id="wrapper"><header id="header"><a class="logo" href="https://makingtracks.ah-web.org/">Making Tracks</a></header><nav id="nav"><ul class="links"><li><a href="https://makingtracks.ah-web.org/" target="_self">Home</a></li><li><a href="https://makingtracks.ah-web.org/about/" target="_self">About</a></li><li><a href="https://mastodon.social/@rainynight65" target="_blank">Mastodon</a></li><li><a href="https://makertube.net/c/makingtracks/videos" target="_blank">Makertube</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2021-07-02T11:46" class="date">2 July 2021</time><h1>A look at the SDS Models NR Class NR52 &#x27;Kungara Mankurpa&#x27;</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://makingtracks.ah-web.org/media/posts/36/img_3669-scaled.jpg" srcset="https://makingtracks.ah-web.org/media/posts/36/responsive/img_3669-scaled-xs.jpg 300w, https://makingtracks.ah-web.org/media/posts/36/responsive/img_3669-scaled-sm.jpg 480w, https://makingtracks.ah-web.org/media/posts/36/responsive/img_3669-scaled-md.jpg 768w, https://makingtracks.ah-web.org/media/posts/36/responsive/img_3669-scaled-lg.jpg 1024w, https://makingtracks.ah-web.org/media/posts/36/responsive/img_3669-scaled-xl.jpg 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="1440" width="2560" alt=""></figure><div class="post__inner post__entry"><p></p><p>I don't usually write at length about new models that I acquire. However, every now and then one comes in that just wants to be talked about. And when I got my hands on this beautifully made and exquisitely printed NR Class from Australian maker SDS Models, I couldn't help but share a more in-depth look.</p><p></p><p></p><h2>The Prototype</h2><p></p><p></p><p>The NR Class dieselelectric locomotive is one of Australia's best known and most prolific locomotives. 120 of them were built between 1996 and 1998 by A Goninan &amp; Co in their factories in New South Wales and Western Australia. They were commissioned by erstwhile railway operator National Rail, hence the class name. The 22m loco weighs in at around 130 metric tons, packs 3000kW of power and can reach a top speed of 115km/h.</p><p></p><p></p><p>To this day, the NR operates passenger and freight trains across Australia. 119 of them are still in service, now owned by operator Pacific National after it acquired National Rail in 2002. Among its more famous duties are the tourist trains The Ghan (Adelaide - Darwin), Indian Pacific (Sydney - Perth) and Great Southern (Adelaide - Brisbane), for which the respective locos have been adorned in specific liveries.</p><p></p><p></p><p>In 1997, two locomotives were launched into service bearing designs by Indigenous artist Bessie Liddle. These works tell stories from the Aboriginal Dreamtime, using the characteristic dot technique. NR52 tells the story of the star constellation Pleiades, known among Indigenous people across Australia as the Seven Sisters. NR52 wore this livery for approximately ten years before being repainted into the blue and yellow Pacific National intermodal livery. The other 'Indigenous' loco, NR30, was repainted in 2009.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/nr52h.jpg" data-size="1000x463" data-gall="galleryGroup-1" data-title="NR52 &quot;Kungara Mankurpa&quot; lashed up with her &#39;sister&#39; NR30 (Photo used with permission of SDS Models Collection)"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/nr52h-thumbnail.jpg" alt="" width="720" height="333"></a><figcaption>NR52 "Kungara Mankurpa" lashed up with her 'sister' NR30 (Photo used with permission of SDS Models Collection)</figcaption></figure></div></div><p></p><p></p><p></p><p></p><h2>NR Class Models</h2><p></p><p></p><p>As H0 scale models, the NR class has been around since 2000. Australian maker Austrains released nine runs until their founders retired and sold their tooling to SDS Models in 2015. SDS themselves released another run based on the Austrains tooling, known as Austrains Neo, before tackling a completely overhauled version under their own name in 2019. At roughly the same time, competitor Auscision announced their own NR class variant.</p><p></p><p></p><p>Both manufacturers released a strictly limited run of NR30 and NR52 in their original Indigenous liveries. SDS Models released 660 units across three options: unpowered, DC analog, and DCC Sound.</p><p></p><p></p><p>In this article, I am introducing the NR52 sound variant.</p><p></p><p></p><h2>The Packaging</h2><p></p><p></p><p>The box has a very simple, pretty design. Opening the box finds the model sitting in a solid styrofoam mould, with the handrails well protected. Also in the box are some spare horns and a small leaflet with some technical details. A manual as such is not included, nor is a spare parts list. Instructions on how to open the model can be found on the SDS website.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3666.jpg" data-size="4032x2268" data-gall="galleryGroup-2"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3666-thumbnail.jpg" alt="" width="720" height="405"></a></figure></div></div><p></p><p></p><p></p><p></p><h2>First Impressions</h2><p></p><p></p><p>Looking at the design first hand, you can't help but feel impressed. The dot painting looks exquisite, the model is rich in detail.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3674.jpg" data-size="4032x3024" data-gall="galleryGroup-3"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3674-thumbnail.jpg" alt="" width="720" height="540"></a></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3681.jpg" data-size="4032x3024" data-gall="galleryGroup-3"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3681-thumbnail.jpg" alt="" width="720" height="540"></a></figure></div></div><p></p><p></p><figure class="wp-block-gallery columns-2 is-cropped"><figure><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">Looking more closely, I don't notice any blur or flaws in the printing. Most lettering is readable, except for the really small bits.</span></figure><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3675.jpg" data-size="4032x3024" data-gall="galleryGroup-4"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3675-thumbnail.jpg" alt="" width="720" height="540"></a></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3676.jpg" data-size="4032x3024" data-gall="galleryGroup-4"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3676-thumbnail.jpg" alt="" width="720" height="540"></a></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3685.jpg" data-size="4032x3024" data-gall="galleryGroup-4"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3685-thumbnail.jpg" alt="" width="720" height="540"></a></figure></div></div></figure><p></p><p></p><figure class="wp-block-gallery columns-3 is-cropped"><figure><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">No issues at the front of the loco, but the rear has a few tiny flaws around the marker lights and the top edge - nothing you notice from a modicum of distance.</span></figure><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3683.jpg" data-size="4032x3024" data-gall="galleryGroup-5"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3683-thumbnail.jpg" alt="" width="720" height="540"></a></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3680.jpg" data-size="4032x3024" data-gall="galleryGroup-5"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3680-thumbnail.jpg" alt="" width="720" height="540"></a></figure></div></div></figure><p></p><p></p><figure class="wp-block-gallery columns-2 is-cropped"><figure><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">According to SDS, they did a lot of detail work on this new variant. Proportions were adjusted, details added. Of note are the etched metal steps at the rear, the spare knuckle couplers tucked under the steps, and the see-through steps at the front. I don't have any other NR Class models at hand for comparison, but I love these little details all over the model.</span></figure><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="4"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3678.jpg" data-size="4032x3024" data-gall="galleryGroup-6" data-title="The radiator grill size was adjusted to the prototype"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3678-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>The radiator grill size was adjusted to the prototype</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3677.jpg" data-size="4032x3024" data-gall="galleryGroup-6" data-title="The steps consist of etched metal parts"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3677-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>The steps consist of etched metal parts</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3684.jpg" data-size="4032x3024" data-gall="galleryGroup-6" data-title="Coupler spares are tucked under the stairs"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3684-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>Coupler spares are tucked under the stairs</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3686.jpg" data-size="4032x3024" data-gall="galleryGroup-6" data-title="The front steps have been reshaped"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3686-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>The front steps have been reshaped</figcaption></figure></div></div></figure><p></p><p></p><figure class="wp-block-gallery columns-4 is-cropped"><figure><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">The model has a recommended minimum radius of 457mm, but handles my Peco R2 curves (438mm) just fine by itself, although the rear end veers out quite a bit. I don't have any rolling stock to hook up to it at the moment, but there is a good chance I will need longer couplers for it.</span></figure></figure><p></p><p></p><h2>Lights and Sound</h2><p></p><p></p><p>Let's have a closer look at the technical side. The model is equipped with a 5-pole skew wound motor and two sizeable flywheels. A 21MTC digital interface sits on the board, the sound variant comes with a ESU LokSound 5 decoder and an exclusive sound project.</p><p></p><p></p><p>The model has the following light functions at both ends: headlights, marker lights (red and white), ditch lights, and number boxes. Headlights and ditch lights are directional. Marker lights and number boxes are switched using the same key - F7 for the front, F9 for the rear end. The function scrolls through several states: all off, number boxes + white markers, number boxes + red markers, red markers. This sequencing reflects real-world usage of the light combinations. However, I'd still prefer if there was a way to selectively switch the individual lights as desired - with 18 functions set up on the decoder, there is a bit of room.</p><p></p><p></p><p>Here are the front lights:</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="4"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3692.jpg" data-size="4032x3024" data-gall="galleryGroup-7" data-title="Headlights"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3692-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>Headlights</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3694.jpg" data-size="4032x3024" data-gall="galleryGroup-7" data-title="White markers + numbers"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3694-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>White markers + numbers</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3695.jpg" data-size="4032x3024" data-gall="galleryGroup-7" data-title="Red markers + numbers"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3695-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>Red markers + numbers</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3693.jpg" data-size="4032x3024" data-gall="galleryGroup-7" data-title="Ditch lights"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3693-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>Ditch lights</figcaption></figure></div></div><p></p><p></p><figure class="wp-block-gallery columns-4 is-cropped"><figure><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">As can be seen in the last photo, the ditch lights are shining through a small gap in the body. The gap itself is not noticeable except when you look closely, but the light bleed can be seen from quite a distance. I have noticed this other videos of SDS NR locos as well. Other than that, the front lights are nice, bright and even.</span></figure></figure><p></p><p></p><p>Here are the rear lights:</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3696.jpg" data-size="4032x3024" data-gall="galleryGroup-8" data-title="Headlights"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3696-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>Headlights</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3697.jpg" data-size="4032x3024" data-gall="galleryGroup-8" data-title="Ditch lights"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3697-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>Ditch lights</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3699.jpg" data-size="4032x3024" data-gall="galleryGroup-8" data-title="White markers + numbers"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3699-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>White markers + numbers</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3700.jpg" data-size="4032x3024" data-gall="galleryGroup-8" data-title="Red markers + numbers"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3700-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>Red markers + numbers</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3698.jpg" data-size="4032x3024" data-gall="galleryGroup-8" data-title="All lights off for comparison"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3698-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>All lights off for comparison</figcaption></figure></div></div><p></p><p></p><p></p><p></p><p>The rear markers are a bit dark and somewhat unevenly lit. The light bleed of the ditch lights is also present at the rear end.</p><p></p><p></p><p>I suspect that the light bleed is owed to the way the model is assembled, where the upper part of the body sits on top of the lower frame. It's a bit of a bummer that this light bleed is present on a model of this price class, but it should be relatively easy to suppress it, by putting some sort of cover over the light conductors. So it's not the end of the world.</p><p></p><p></p><p>However, that requires opening the model, and here's where I am running into real problems. To summarise: it really doesn't open easily.</p><p></p><p></p><p>The top part of the body clips into the bottom part and is held in place by six clip tabs. The instructions direct you to squeeze the body in three place, then pull it off upwards. I tried that, but the tabs aren't giving way, and nothing moves. Some of the tabs can be seen from below, and someone with a calm hand and good nerves can use a small tool, like a screwdriver, to try and unclip them. This is also the recommendation I have read in other places. I have not tried that yet - honestly I am way too scared of damaging the loco or breaking off some of the very fine detail parts. I do have a second SDS NR Class on order, where I will try the process again.</p><p></p><p></p><h2>The Sound</h2><p></p><p></p><p>After all that, it's time to check out the sound. The model sports an amply sized 20x40mm speaker which sits in the fuel tank. The function list is, conventiently, printed inside the lid of the box.</p><p></p><p></p><figure class="wp-block-gallery columns-2 is-cropped"><figure><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3706.jpg" data-size="4032x3024" data-gall="galleryGroup-9" data-title="Speaker in the fuel tank. The slide switches set up the light combinations for analog operation"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3706-thumbnail.jpg" alt="" width="720" height="540"></a><figcaption>Speaker in the fuel tank. The slide switches set up the light combinations for analog operation</figcaption></figure><figure class="gallery__item"><a href="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3667.jpg" data-size="2268x4032" data-gall="galleryGroup-9" data-title="A convenient function list in the lid of the box"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/36/gallery/img_3667-thumbnail.jpg" alt="" width="720" height="1280"></a><figcaption>A convenient function list in the lid of the box</figcaption></figure></div></div></figure></figure><p></p><p></p><p>The sound project contains functions for the prime mover, horn, bell, air compressor, brakes and sanders, plus a few logic functions like shunting mode and heavy load. Everything sounds great, the sounds are loud and clear without distortion or muddiness. As a nice detail, the ditch lights flash alternatingly for a few seconds when the horn is activated. The bell is quite typical for American locomotives, but to my knowledge is not used on the Australian prototype, although it is present.</p><p></p><p></p><p>With or without sound, the model accelerates and runs smoothly. The following video shows the full startup sequence of the GE 7FDL engine, before the loco takes a turn on my test layout.</p><p></p><p></p><figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><div class="wp-block-embed__wrapper"><div class="post__iframe"><iframe loading="lazy" width="699" height="393" style="width: 699px; height: 393px;" title="SDS NR52 'Kungara Mankurpa' Sound Demo" src="https://makertube.net/videos/embed/bcf97c44-68ee-40fd-b5d0-dd38184c8fba" frameborder="0" allowfullscreen="allowfullscreen" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe></div></div></figure><p></p><p></p><h2>Final Thoughts</h2><p></p><p></p><p>Notwithstanding the described flaws, this is an absolutely beautiful, well-made model with a stunning print quality. I absolutely can't stop marveling at the design and the details. I don't regret purchasing this loco and look forward to many years of running it, once my layout is built.</p><p></p></div><footer class="post__inner post__footer"><div class="post__share-tag-container"><div class="post__tag"><h3>Tagged in:</h3><ul><li><a href="https://makingtracks.ah-web.org/tags/locos/">Locos</a></li><li><a href="https://makingtracks.ah-web.org/tags/sound/">Sound</a></li></ul></div><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"></div></div></div><div class="post__bio"><img src="https://www.gravatar.com/avatar/ee5c2941d2997b864e9173c270513a0c?s&#x3D;240" loading="lazy" height="240" width="240" alt="Alex"><div><h3><a href="https://makingtracks.ah-web.org/authors/alex/" class="invert" rel="author">Alex</a></h3></div></div></footer></article><div><strong>You should also read:</strong></div><div class="posts"><article><header><time datetime="2018-12-18T13:52" class="date">18 December 2018</time><h2><a href="https://makingtracks.ah-web.org/unboxing-the-southern-rail-models-qr-2300-class/">Unboxing the Southern Rail Models QR 2300 Class</a></h2></header><a href="https://makingtracks.ah-web.org/unboxing-the-southern-rail-models-qr-2300-class/" class="image fit"><img src="https://makingtracks.ah-web.org/media/posts/17/img_0516.jpg" srcset="https://makingtracks.ah-web.org/media/posts/17/responsive/img_0516-xs.jpg 300w, https://makingtracks.ah-web.org/media/posts/17/responsive/img_0516-sm.jpg 480w, https://makingtracks.ah-web.org/media/posts/17/responsive/img_0516-md.jpg 768w, https://makingtracks.ah-web.org/media/posts/17/responsive/img_0516-lg.jpg 1024w, https://makingtracks.ah-web.org/media/posts/17/responsive/img_0516-xl.jpg 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="3024" width="4032" alt=""></a><p>When we decided to go H0 scale, one of the drivers had been the fact that local model manufacturer Southern Rail Models had&hellip;</p><ul class="actions special"><li><a href="https://makingtracks.ah-web.org/unboxing-the-southern-rail-models-qr-2300-class/" class="button">Full Story</a></li></ul></article></div></main><footer id="copyright"><ul><li>© Alex Hempel 2025</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by Publii</li></ul></footer></div><script src="https://makingtracks.ah-web.org/assets/js/jquery.min.js?v=c9771cc3e90e18f5336eedbd0fffb2cf"></script><script src="https://makingtracks.ah-web.org/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://makingtracks.ah-web.org/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://makingtracks.ah-web.org/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://makingtracks.ah-web.org/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://makingtracks.ah-web.org/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://makingtracks.ah-web.org/assets/js/main.min.js?v=56233c354bd814758be8bff42f7e13a5"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script defer="defer" src="https://makingtracks.ah-web.org/media/plugins/simpleLightboxGallery/venobox.min.js"></script><script type="text/javascript">document.addEventListener("DOMContentLoaded", () => {
						 try {
							  if (typeof VenoBox !== 'undefined') {
									new VenoBox({
										 selector: '.gallery__item a',
titleattr: 'data-title',
bgcolor: 'rgba(38, 40, 44, 1)',
fitView: true,
infinigall: true,
maxWidth: '100%',
navigation: true,
navKeyboard: true,
navTouch: true,
navSpeed: 300,
numeration: true,
overlayClose: true,
overlayColor: 'rgba(0,0,0,0.8)',
share: false,
shareStyle: 'pill',
spinColor: '#d2d2d2',
spinner: 'flow',
titlePosition: 'top',
titleStyle: 'transparent',
toolsBackground: '#1C1C1C',
toolsColor: '#d2d2d2',
initialScale: 0.9,
transitionSpeed: 200
									});
							  } else {
									console.error("VenoBox script not loaded.");
							  }
						 } catch (error) {
							  console.error("Failed to initialize VenoBox:", error);
						 }
					});</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="#not-specified">More details...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="#not-specified">More details...</a></div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch"><input type="checkbox" data-group-name="analytics" id="analytics-cookies"> <label for="analytics-cookies">Required</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>