<!DOCTYPE html><html lang="en-au"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Feedback Experiments, Pt. I - Making Tracks</title><meta name="description" content="Thanks to Covid-19, everything is in a bit of a limbo at the moment. We started planning for a new train room, but&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><script async defer="defer" type="gdpr-blocker/" src="https://cloud.umami.is/script.js" data-website-id="a427e2da-da6b-41b8-bbf8-baea5d55d40f" data-auto-track="true" data-do-not-track="true" data-cache="false"></script><link rel="canonical" href="https://makingtracks.ah-web.org/feedback-experiments-pt-i/"><link rel="alternate" type="application/atom+xml" href="https://makingtracks.ah-web.org/feed.xml"><link rel="alternate" type="application/json" href="https://makingtracks.ah-web.org/feed.json"><meta property="og:title" content="Feedback Experiments, Pt. I"><meta property="og:image" content="https://makingtracks.ah-web.org/media/posts/27/img_2650-scaled.jpg"><meta property="og:image:width" content="2560"><meta property="og:image:height" content="1920"><meta property="og:site_name" content="Making Tracks"><meta property="og:description" content="Thanks to Covid-19, everything is in a bit of a limbo at the moment. We started planning for a new train room, but&hellip;"><meta property="og:url" content="https://makingtracks.ah-web.org//feedback-experiments-pt-i/"><meta property="og:type" content="article"><link rel="preload" href="https://makingtracks.ah-web.org/assets/dynamic/fonts/cabin/cabin.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://makingtracks.ah-web.org/assets/dynamic/fonts/cabin/cabin-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/style.css?v=a8ca1367dd9139daadb52caf7a2b7a85"><noscript><link rel="stylesheet" href="https://makingtracks.ah-web.org/assets/css/noscript.css?v=efa867a99f5064d6729e4dc2008ad50b"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://makingtracks.ah-web.org/feedback-experiments-pt-i/"},"headline":"Feedback Experiments, Pt. I","datePublished":"2020-06-22T15:38+10:00","dateModified":"2025-01-21T07:40+10:00","image":{"@type":"ImageObject","url":"https://makingtracks.ah-web.org/media/posts/27/img_2650-scaled.jpg","height":1920,"width":2560},"description":"Thanks to Covid-19, everything is in a bit of a limbo at the moment. We started planning for a new train room, but&hellip;","author":{"@type":"Person","name":"Alex","url":"https://makingtracks.ah-web.org/authors/alex/"},"publisher":{"@type":"Organization","name":"Alex"}}</script><style>#wrapper > .bg {
               background-image: url(https://makingtracks.ah-web.org/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://makingtracks.ah-web.org/media/website/cropped-train-1148965_1920-6.png);
           }</style><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload post-template"><div id="wrapper"><header id="header"><a class="logo" href="https://makingtracks.ah-web.org/">Making Tracks</a></header><nav id="nav"><ul class="links"><li><a href="https://makingtracks.ah-web.org/" target="_self">Home</a></li><li><a href="https://makingtracks.ah-web.org/about/" target="_self">About</a></li><li><a href="https://mastodon.social/@rainynight65" target="_blank">Mastodon</a></li><li><a href="https://makertube.net/c/makingtracks/videos" target="_blank">Makertube</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2020-06-22T15:38" class="date">22 June 2020</time><h1>Feedback Experiments, Pt. I</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://makingtracks.ah-web.org/media/posts/27/img_2650-scaled.jpg" srcset="https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-scaled-xs.jpg 300w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-scaled-sm.jpg 480w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-scaled-md.jpg 768w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-scaled-lg.jpg 1024w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-scaled-xl.jpg 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="1920" width="2560" alt=""></figure><div class="post__inner post__entry"><p></p><p>Thanks to Covid-19, everything is in a bit of a limbo at the moment. We started planning for a new train room, but that had to be put on hold due to impacted finances. At the same token, because of that planning, we are not making any major changes to the current layout - it's only still up so the trains can run once in a while. We need the room it is currently in, so as soon as we can resume the work on the new train room, this one will be dismantled. A new train project had to be put on hold for a similar reason.</p><p></p><p></p><p>But recently I had the itch to do something anyway, something new. I started to experiment with sensors and feedback, in order to automate the running of trains. The materials for this have been lying around for a while, acquired at different occasions, so I figured I might as well put them to use.</p><p></p><p></p><p>Regular feedback setups for model railway, which often integrate into bus systems such as LocoNet or XpressNet, are quite expensive. For some time I have been researching a more cost-effective option, which I believed to have in the combination of Arduino sensors, and Arduino board, and the DCC++ software, a package that turns an Arduino into a DCC command station.</p><p></p><p></p><p>The nice thing about this combination is that it works out to a really low price per sensor, compared to other solutions. A 16 channel LocoNet or S88 board can easily set you back north of 50 Euros depending on the brand. An Arduino Mega board can be had for way less than that, and it offers up to 54 digital inputs which can be used for sensors. The sensor modules are also fairly cheap. On the downside, whatever software is used for the automation needs to be compatible with DCC++, which is not always the case.</p><p></p><p></p><p>Since I already have my <a rel="noreferrer noopener" href="https://makingtracks.ah-web.org/2019/02/17/out-with-the-old-in-with-the-new/" target="_blank">DR5000</a>, I didn't bother setting up the Arduino as an actual command station - it requires a motor shield to do that. It only needed to be able to process inputs coming from sensors, and for that, the software on a bare Arduino is good enough. The next question was which type of sensor to use. A lot of feedback systems use current detectors, which require specific wiring and insulation of track segments. Retrofitting these sensor types onto an existing layout is lots of work and not optimal. Other options include photoresistors, light barriers, infrared sensors, or reed switches.</p><p></p><p></p><p>I initially played with photoresistors - the idea being that they get tripped by trains blocking out the light when driving over them - but after the first few tests I started getting doubts about their reliability in the wildly varying lighting conditions in my train room, so I didn't even bother putting them under the tracks.</p><p></p><p></p><p>The next trials were made with reed switch modules, which are tripped by a magnetic field. I was immediately convinced by the initial results and wanted to proceed with tests on live track. As can be seen in the pictures below, the modules are not small, and would not fit under regular H0 track as they are. My workaround was to desolder the actual reed switch from the module, solder two lengths of wire onto the same contacts, feed these wires through the baseboard and then solder the reed switch back onto the wires. That worked well enough, but I learned that you have to threat the reed switches very gently - I broke two of the fragile glass tubes while doing this work.</p><p></p><p></p><figure class="wp-block-gallery columns-2 is-cropped"><ul class="blocks-gallery-grid"><li class="blocks-gallery-item"><figure><figure class="wp-image-596"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/27/img_2649-1024x768.jpg" alt="" data-id="596" data-full-url="https://makingtracks.ah-web.org/wp-content/uploads/2020/06/img_2649-scaled.jpg" data-link="https://makingtracks.ah-web.org/img_2649/" sizes="(max-width: 48em) 100vw, 768px" srcset="https://makingtracks.ah-web.org/media/posts/27/responsive/img_2649-1024x768-xs.jpg 300w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2649-1024x768-sm.jpg 480w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2649-1024x768-md.jpg 768w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2649-1024x768-lg.jpg 1024w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2649-1024x768-xl.jpg 1360w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2649-1024x768-2xl.jpg 1600w"></figure><figcaption class="blocks-gallery-item__caption">The Arduino photosensor module used for the first tests</figcaption></figure></li><li class="blocks-gallery-item"><figure><figure class="wp-image-595"><img loading="lazy" src="https://makingtracks.ah-web.org/media/posts/27/img_2650-1024x768.jpg" alt="" data-id="595" data-full-url="https://makingtracks.ah-web.org/wp-content/uploads/2020/06/img_2650-scaled.jpg" data-link="https://makingtracks.ah-web.org/img_2650/" sizes="(max-width: 48em) 100vw, 768px" srcset="https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-1024x768-xs.jpg 300w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-1024x768-sm.jpg 480w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-1024x768-md.jpg 768w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-1024x768-lg.jpg 1024w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-1024x768-xl.jpg 1360w, https://makingtracks.ah-web.org/media/posts/27/responsive/img_2650-1024x768-2xl.jpg 1600w"></figure><figcaption class="blocks-gallery-item__caption">The Arduino reed switch module</figcaption></figure></li></ul></figure><p></p><p></p><p>But once the switches were under the track, and everything was connected up, they worked. I performed the first few tests with my LINT 27 railcar, and stuck a small magnet on its underside, but soon noticed that it was tripping the sensors without the extra magnet. The next step was to set up the automation - initially I just wanted the railcar to go around its oval and stop at the station on each pass. The result can be seen in the below video. The Arduino and the two reed switch modules with the red LEDs are visible, and LEDs flash on the modules when the train triggers a sensor.</p><p></p><p></p><p>From here, it's all in the software, and how it deals with the information provided by the sensors. How I got on with RocRail will be described in the next post of this series. Watch this space.</p><p></p><p></p><figure class="wp-block-embed-youtube wp-block-embed is-type-video is-provider-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><div class="wp-block-embed__wrapper">https://www.youtube.com/watch?v=df79BP-bVfA</div></figure><p></p><p></p><p></p></div><footer class="post__inner post__footer"><div class="post__share-tag-container"><div class="post__tag"><h3>Tagged in:</h3><ul><li><a href="https://makingtracks.ah-web.org/tags/arduino/">Arduino</a></li><li><a href="https://makingtracks.ah-web.org/tags/automation/">Automation</a></li><li><a href="https://makingtracks.ah-web.org/tags/dcc/">DCC</a></li><li><a href="https://makingtracks.ah-web.org/tags/feedback/">Feedback</a></li></ul></div><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"></div></div></div><div class="post__bio"><img src="https://www.gravatar.com/avatar/ee5c2941d2997b864e9173c270513a0c?s&#x3D;240" loading="lazy" height="240" width="240" alt="Alex"><div><h3><a href="https://makingtracks.ah-web.org/authors/alex/" class="invert" rel="author">Alex</a></h3></div></div></footer></article><div><strong>You should also read:</strong></div><div class="posts"><article><header><time datetime="2020-06-30T21:25" class="date">30 June 2020</time><h2><a href="https://makingtracks.ah-web.org/feedback-experiments-pt-ii/">Feedback Experiments, Pt. II</a></h2></header><a href="https://makingtracks.ah-web.org/feedback-experiments-pt-ii/" class="image fit"><img src="https://makingtracks.ah-web.org/media/posts/28/img_2631-scaled.jpg" srcset="https://makingtracks.ah-web.org/media/posts/28/responsive/img_2631-scaled-xs.jpg 300w, https://makingtracks.ah-web.org/media/posts/28/responsive/img_2631-scaled-sm.jpg 480w, https://makingtracks.ah-web.org/media/posts/28/responsive/img_2631-scaled-md.jpg 768w, https://makingtracks.ah-web.org/media/posts/28/responsive/img_2631-scaled-lg.jpg 1024w, https://makingtracks.ah-web.org/media/posts/28/responsive/img_2631-scaled-xl.jpg 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="2560" width="1920" alt=""></a><p>The next post in this series was originally going to describe how I implemented the first automation experiment in the control software I&hellip;</p><ul class="actions special"><li><a href="https://makingtracks.ah-web.org/feedback-experiments-pt-ii/" class="button">Full Story</a></li></ul></article></div></main><footer id="copyright"><ul><li>© Alex Hempel 2025</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by Publii</li></ul></footer></div><script src="https://makingtracks.ah-web.org/assets/js/jquery.min.js?v=c9771cc3e90e18f5336eedbd0fffb2cf"></script><script src="https://makingtracks.ah-web.org/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://makingtracks.ah-web.org/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://makingtracks.ah-web.org/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://makingtracks.ah-web.org/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://makingtracks.ah-web.org/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://makingtracks.ah-web.org/assets/js/main.min.js?v=56233c354bd814758be8bff42f7e13a5"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script></body></html>